!function(){function initCommunicate(e){var t=WB2._config.version,n=WB2.anyWhere._instances,o=n[t];o?o.contentWindow._ready?o.contentWindow.request(e):WB2.addToCallbacks(o.contentWindow,e):WB2.delayCall(e)}function anyWhere(e){var t={requestType:"anywhere",callback:e};regIframeRequest(t)}function regIframeRequest(e){var t=e||{},n=function(){initCommunicate(t),queue.next()},o=function(e){JS_CACHE.bundle?e&&e():loadJs({url:WB2._config.host+"/open/api/js/api/bundle.js?version="+WB2._config.cdn_version,onComplete:function(){JS_CACHE.bundle=1,e&&e()}})};queue.add(o,{args:[n]})}function clientInfo(){var e,t,n,o,r,s=document.getElementsByTagName("script"),i=s.length,a=0;if(i>0)for(e=s[a++];e;){if(-1!=e.src.indexOf("api/js/wb.js")){t=e.src.split("?").pop();break}e=s[a++]}t=t.toLowerCase();var c=queryToJson(t);return n=c.appkey||"",o=c.secret||"",debug=c.debug||!1,r=c.version||1,{appkey:n,secret:o,debug:debug,version:r}}function loginReady(e,t){var n,o;if(null!=e&&(1==t?LOGIN_FUNC_LIST.unshift(e):LOGIN_FUNC_LIST.push(e)),WB2.checkLogin()){for(n=0,o=LOGIN_FUNC_LIST.length;o>n;n++)LOGIN_FUNC_LIST[n].call();LOGIN_FUNC_LIST=[]}}function showLogin(e){var t=$.core.util.URL(OAUTH_LOGIN_URL),n=600,o=455;t.setParam("client_id",e.appkey),t.setParam("response_type","token"),t.setParam("display","js"),t.setParam("transport","html5"),t.setParam("referer",encodeURI(document.location.href)),OAUTH_LOGIN_WINDOW=window.open(t,"oauth_login_window","width="+n+",height="+o+",toolbar=no,menubar=no,resizable=no,status=no,left="+(screen.width-n)/2+",top="+(screen.height-o)/2),OAUTH_LOGIN_WINDOW&&OAUTH_LOGIN_WINDOW.focus()}function messageHandler(e){if(/\api.weibo\.com$/.test(e.origin)){var t=e.data;t=unescape(t),t=queryToJson(t),t.error_code?(t.success=-1,t.status=-1):(t.success=1,t.status=1),loginCallBack(t)}}function loginCallBack(e){WB2.console.log(e),loginStatus(e.status),1==e.success?(Cookie.save(e),loginReady()):LOGIN_FUNC_LIST.pop()}function login(e){APPKEY_AVAILABLE&&(loginReady(e,!0),WB2.checkLogin()||(window.postMessage&&!browser.IE?showLogin({appkey:WB2._config.appkey}):regIframeRequest({appkey:WB2._config.appkey,requestType:"login",callback:loginCallBack})))}function logout(e){if(WB2.checkLogin()&&null!=WB2._config.appkey){Cookie.del(),loginStatus(-1),WB2._config.access_token=null,delete WB2._config.access_token;try{jsonp({url:"https://api.weibo.com/2/account/end_session.json?source="+WB2._config.appkey,onComplete:function(t){e&&e(t.data)}})}catch(t){throw"JavaScript SDK: logout error"}}}function loginStatus(e){null!=e&&(USER_STATUS=e)}function checkLogin(){return 1==USER_STATUS}function getLoginStatus(e){{var t=e||Cookie.load(),n=t.access_token||"";t.expires_in||""}""!=n&&(USER_STATUS=1),jsonp({url:OAUTH_QUERY_URL,onComplete:function(e){return WB2.console.log(e),e=e||{},1==e.status&&e.access_token&&(Cookie.save(e),WB2._config.access_token=e.access_token,WB2._config.uid=e.uid),e.error?(APPKEY_AVAILABLE=!1,WB2.console.warn(e.error),void("xd2.jsp has not Referer!"==e.error&&WB2.console.warn("您使用的appkey未和域名进行绑定，请绑定后使用。"))):(USER_STATUS=e.status,void loginReady())},args:{source:WB2._config.appkey}})}var STK=function(){var e={},t=[];return e.inc=function(){return!0},e.register=function(t,n){for(var o=t.split("."),r=e,s=null;s=o.shift();)if(o.length)void 0===r[s]&&(r[s]={}),r=r[s];else if(void 0===r[s])try{r[s]=n(e)}catch(i){}},e.regShort=function(t,n){if(void 0!==e[t])throw"["+t+"] : short : has been register";e[t]=n},e.IE=/msie/i.test(navigator.userAgent),e.E=function(e){return"string"==typeof e?document.getElementById(e):e},e.C=function(e){var t;return e=e.toUpperCase(),t="TEXT"==e?document.createTextNode(""):"BUFFER"==e?document.createDocumentFragment():document.createElement(e)},e.log=function(e){t.push("["+(new Date).getTime()%1e5+"]: "+e)},e.getErrorLogInformationList=function(e){return t.splice(0,e||t.length)},e}();$Import=STK.inc,STK.register("core.str.trim",function(){return function(e){if("string"!=typeof e)throw"trim need a string as parameter";for(var t=e.length,n=0,o=/(\u3000|\s|\t|\u00A0)/;t>n&&o.test(e.charAt(n));)n+=1;for(;t>n&&o.test(e.charAt(t-1));)t-=1;return e.slice(n,t)}}),STK.register("core.evt.addEvent",function(e){return function(t,n,o){var r=e.E(t);return null==r?!1:(n=n||"click","function"==(typeof o).toLowerCase()?(r.attachEvent?r.attachEvent("on"+n,o):r.addEventListener?r.addEventListener(n,o,!1):r["on"+n]=o,!0):void 0)}}),STK.register("core.obj.parseParam",function(){return function(e,t,n){var o,r={};t=t||{};for(o in e)r[o]=e[o],null!=t[o]&&(n?e.hasOwnProperty[o]&&(r[o]=t[o]):r[o]=t[o]);return r}}),STK.register("core.arr.isArray",function(){return function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),STK.register("core.json.queryToJson",function(e){return function(t,n){for(var o=e.core.str.trim(t).split("&"),r={},s=function(e){return n?decodeURIComponent(e):e},i=0,a=o.length;a>i;i++)if(o[i]){var c=o[i].split("="),u=c[0],l=c[1];c.length<2&&(l=u,u="$nullName"),r[u]?(1!=e.core.arr.isArray(r[u])&&(r[u]=[r[u]]),r[u].push(s(l))):r[u]=s(l)}return r}}),STK.register("core.obj.isEmpty",function(){return function(e,t){var n=!0;for(var o in e){if(t){n=!1;break}if(e.hasOwnProperty(o)){n=!1;break}}return n}}),STK.register("core.util.cookie",function(e){var t={set:function(t,n,o){var r,s,i=[],a=e.core.obj.parseParam({expire:null,path:"/",domain:null,secure:null,encode:!0},o);1==a.encode&&(n=escape(n)),i.push(t+"="+n),null!=a.path&&i.push("path="+a.path),null!=a.domain&&i.push("domain="+a.domain),null!=a.secure&&i.push(a.secure),null!=a.expire&&(r=new Date,s=r.getTime()+36e5*a.expire,r.setTime(s),i.push("expires="+r.toGMTString())),document.cookie=i.join(";")},get:function(e){e=e.replace(/([\.\[\]\$])/g,"\\$1");var t=new RegExp(e+"=([^;]*)?;","i"),n=document.cookie+";",o=n.match(t);return o?o[1]||"":""},remove:function(e,n){n=n||{},n.expire=-10,t.set(e,"",n)}};return t}),STK.register("core.str.parseURL",function(){return function(e){for(var t=/^(?:([A-Za-z]+):(\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,n=["url","scheme","slash","host","port","path","query","hash"],o=t.exec(e),r={},s=0,i=n.length;i>s;s+=1)r[n[s]]=o[s]||"";return r}}),STK.register("core.json.jsonToQuery",function(e){var t=function(t,n){return t=null==t?"":t,t=e.core.str.trim(t.toString()),n?encodeURIComponent(t):t};return function(e,n){var o=[];if("object"==typeof e)for(var r in e)if("$nullName"!==r)if(e[r]instanceof Array)for(var s=0,i=e[r].length;i>s;s++)o.push(r+"="+t(e[r][s],n));else"function"!=typeof e[r]&&o.push(r+"="+t(e[r],n));else o=o.concat(e[r]);return o.length?o.join("&"):""}}),STK.register("core.util.URL",function(e){return function(t,n){var o=e.core.obj.parseParam({isEncodeQuery:!1,isEncodeHash:!1},n||{}),r={},s=e.core.str.parseURL(t),i=e.core.json.queryToJson(s.query),a=e.core.json.queryToJson(s.hash);return r.setParam=function(e,t){return i[e]=t,this},r.getParam=function(e){return i[e]},r.setParams=function(e){for(var t in e)r.setParam(t,e[t]);return this},r.setHash=function(e,t){return a[e]=t,this},r.getHash=function(e){return a[e]},r.valueOf=r.toString=function(){var t=[],n=e.core.json.jsonToQuery(i,o.isEncodeQuery),r=e.core.json.jsonToQuery(a,o.isEncodeQuery);return""!=s.scheme&&(t.push(s.scheme+":"),t.push(s.slash)),""!=s.host&&(t.push(s.host),""!=s.port&&(t.push(":"),t.push(s.port))),t.push("/"),t.push(s.path),""!=n&&t.push("?"+n),""!=r&&t.push("#"+r),t.join("")},r}}),STK.register("core.util.browser",function(){var e,t,n,o,r,s=navigator.userAgent.toLowerCase(),i=window.external||"",a=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))};try{/windows|win32/i.test(s)?r="windows":/macintosh/i.test(s)?r="macintosh":/rhino/i.test(s)&&(r="rhino"),(t=s.match(/applewebkit\/([^\s]*)/))&&t[1]?(e="webkit",o=a(t[1])):(t=s.match(/presto\/([\d.]*)/))&&t[1]?(e="presto",o=a(t[1])):(t=s.match(/msie\s([^;]*)/))?(e="trident",o=1,(t=s.match(/trident\/([\d.]*)/))&&t[1]&&(o=a(t[1]))):/gecko/.test(s)&&(e="gecko",o=1,(t=s.match(/rv:([\d.]*)/))&&t[1]&&(o=a(t[1]))),/world/.test(s)?n="world":/360se/.test(s)?n="360":/maxthon/.test(s)||"number"==typeof i.max_version?n="maxthon":/tencenttraveler\s([\d.]*)/.test(s)?n="tt":/se\s([\d.]*)/.test(s)&&(n="sogou")}catch(c){}var u=-1!=s.indexOf("trident/7.0")&&(-1!=s.indexOf("rv 11.0")||-1!=s.indexOf("rv:11.0")),l={OS:r,CORE:e,Version:o,EXTRA:n?n:!1,IE:/msie/.test(s)||u,OPERA:/opera/.test(s),MOZ:/gecko/.test(s)&&!/(compatible|webkit)/.test(s),IE5:/msie 5 /.test(s),IE55:/msie 5.5/.test(s),IE6:/msie 6/.test(s),IE7:/msie 7/.test(s),IE8:/msie 8/.test(s),IE9:/msie 9/.test(s),IE11:u,SAFARI:!/chrome\/([\d.]*)/.test(s)&&/\/([\d.]*) safari/.test(s),CHROME:/chrome\/([\d.]*)/.test(s),IPAD:/\(ipad/i.test(s),IPHONE:/\(iphone/i.test(s),ITOUCH:/\(itouch/i.test(s),MOBILE:/mobile/i.test(s)};return l}),STK.register("core.dom.isNode",function(){return function(e){return void 0!=e&&Boolean(e.nodeName)&&Boolean(e.nodeType)}}),STK.register("core.util.hideContainer",function(e){var t,n=function(){t||(t=e.C("div"),t.style.cssText="position:absolute;top:-9999px;left:-9999px;",document.getElementsByTagName("head")[0].appendChild(t))},o={appendChild:function(o){e.core.dom.isNode(o)&&(n(),t.appendChild(o))},removeChild:function(n){e.core.dom.isNode(n)&&t&&t.removeChild(n)}};return o}),window.WB2=window.WB2||{},WB2._config=WB2._config||{},WB2._config.host="http://js.t.sinajs.cn",WB2._config.cssHost="http://img.t.sinajs.cn",WB2._config.cdn_version="20150130.02",window.WB2=window.WB2||{},WB2.Module={loginButton:{versions:{"1.0":{js:"loginButton{ver}.js?version=20140327",css:"/t3/style/css/common/card.css?version=20140327"},latest:{js:"loginButton.js?version=20140327",css:"/t4/appstyle/widget/css/loginButton/loginButton.css"}}},followButton:{versions:{"1.0":{js:"followButton{ver}.js",css:"/t3/style/css/common/card.css?version=20140327"},latest:{js:"followButton.js?version=20140327",css:"/t4/appstyle/widget/css/followButton/followButtonSdk.css"}}},publish:{versions:{"1.0":{js:"publish{ver}.js?version=20150206",css:"/t3/style/css/thirdpart/rlsbox.css?version=20140327"},1.1:{js:"publish{ver}.js?version=20150206",css:"/t35/appstyle/opent/css/widgets/js_weibo_send/js_weibo_send.css"},latest:{js:"publish.js?version=20150206",css:"/t4/appstyle/widget/css/weiboPublish/weiboPublish.css"}}},hoverCard:{versions:{"1.0":{js:"hoverCard{ver}.js?version=20141124",css:"/t3/style/css/common/card.css?version=20140327"},latest:{js:"hoverCard.js?version=20141124",css:"/t4/appstyle/widget/css/weiboCard/weiboCard.css"}}},recommend:{versions:{"1.0":{js:"recommend{ver}.js"},latest:{js:"recommend.js",css:"/t3/style/css/thirdpart/interested.css"}}},selector:{versions:{"1.0":{js:"selector{ver}.js?version=20140327",css:"/t3/style/css/thirdpart/csuser.css"},latest:{js:"selector.js?version=20140327",css:"/t4/appstyle/widget/css/selector/selector.css?version=20150714"}}},shareRecommend:{versions:{"1.0":{js:"shareRecommend{ver}.js?version=20140327"},latest:{js:"shareRecommend.js?version=20140327",css:"/t4/appstyle/widget/css/weiboFamous/weiboFamous.css"}}},like:{versions:{"1.0":{js:"like{ver}.js?version=20140327"},latest:{js:"like.js?version=20140327",css:"/t4/appstyle/widget/css/praiseButton/praiseButton.css?version=20140327"}}},iframeWidget:{versions:{latest:{js:"iframeWidget.js?version=20140327"}}},invite:{versions:{"1.0":{js:"invite{ver}.js?version=20140327"},latest:{js:"invite.js?version=20140327",css:"http://img.t.sinajs.cn/t4/appstyle/V5_invite/css/module/frame/layer_frame.css"}}},quote:{versions:{"1.0":{js:"quote{ver}.js?version=20140327"},latest:{js:"quote.js?version=20140327"}}}},STK.register("core.func.getType",function(){return function(e){var t;return("object"==(t=typeof e)?null==e&&"null"||Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()}}),STK.register("core.dom.ready",function(e){var t=[],n=!1,o=e.core.func.getType,r=(e.core.util.browser,e.core.evt.addEvent),s=function(){return n||"complete"!==document.readyState?n:!0},i=function(){if(1!=n){n=!0;for(var e=0,r=t.length;r>e;e++)if("function"===o(t[e]))try{t[e].call()}catch(s){}t=[]}},a=function(){if(s())return void i();try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,25)}i()},c=function(){return s()?void i():void setTimeout(arguments.callee,25)},u=function(){r(document,"DOMContentLoaded",i)},l=function(){r(window,"load",i)};return s()||(e.IE&&window===window.top&&a(),u(),c(),l()),function(e){s()?"function"===o(e)&&e.call():t.push(e)}}),STK.register("conf.api.wbml",function(e){window.WB2=window.WB2||{};var t=function(e,t){var n;n=parent.document.createElement("script"),n.charset="UTF-8";var o=/msie/i.test(navigator.userAgent);return o?n.onreadystatechange=function(){("complete"==n.readyState.toLowerCase()||"loaded"==n.readyState.toLowerCase())&&(t(),n.onreadystatechange=null)}:n.onload=function(){t(),n.onload=null},n.src=e,parent.document.getElementsByTagName("head")[0].appendChild(n),n},n={widgetCache:{},loadCss:function(e){css=document.createElement("link"),css.href=e,css.type="text/css",css.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(css),n.widgetCache[e]=1},getWidgetFile:function(e,t){var n=window.WB2._config.host+"/open/api",o=window.WB2._config.cssHost,r=WB2.Module,s=r[e];if(!s)throw"Module "+e+" can not be found!";s=r[e].versions[t],s||(s=r[e].versions.latest);var i=s.js.replace("{ver}",t),a=(null!=s.css?s.css:r[e].versions.latest.css)||"",c=n+"/js/widget/"+e+"/"+i,u=""!=a?/^http:\/\//.test(a)?a:o+a:"";return{js:c,css:u}},loadWidget:function(e,t){var o=e.module,r=e.version,s=e.loadcss,i=this.getWidgetFile(o,r),a=function(){t&&t(i),queue.next()};n._init(i.js,a),s&&i.css&&!this.widgetCache[i.css]&&this.loadCss(i.css)},_init:function(e,o){n.widgetCache[e]?o&&o():t(e,function(){n.widgetCache[e]=1,o&&o()})}},o=function(){var e={load:function(e,t){var o,r=e.module||"",s=!0;if(""==r)throw"no availiable module found.";"string"==typeof t?o=t||"latest":"object"==typeof t&&(o=t.version||"latest",s=t.loadcss);var i={module:r,version:o,loadcss:s};return"connectButton"==r&&(r="loginButton"),n.loadWidget(i,function(t){try{WB2.widget[r].call(window,e.params)}catch(n){throw STK.common.log.monitor({from:"jssdk",url:t.js,param:e.params,title:r,error:n.toString()}),n.toString()}}),this}},t=WB2.Module;for(var o in t)o&&t[o]&&("loginButton"==o&&(e.connectButton=function(t){return function(n,o){e.load({module:t,params:n},o)}}(o)),e[o]=function(t){return function(n,o){e.load({module:t,params:n},o)}}(o));return e}();return function(){var t=e.core.util.browser,n=[{tagName:"login-button",widgetName:"loginButton"},{tagName:"publish",widgetName:"publish"},{tagName:"share-recommend",widgetName:"shareRecommend"},{tagName:"like",widgetName:"like"},{tagName:"follow-button",widgetName:"iframeWidget"},{tagName:"share-button",widgetName:"iframeWidget"},{tagName:"list",widgetName:"iframeWidget"},{tagName:"show",widgetName:"iframeWidget"},{tagName:"topic",widgetName:"iframeWidget"},{tagName:"comments",widgetName:"iframeWidget"},{tagName:"livestream",widgetName:"iframeWidget"},{tagName:"bulkfollow",widgetName:"iframeWidget"},{tagName:"hotlist",widgetName:"iframeWidget"},{tagName:"invite",widgetName:"invite"},{tagName:"quote",widgetName:"quote"}],r=function(e,n){n=n||"wb";var o=(navigator.userAgent.toLowerCase(),n+":"+e);if(t.IE){try{var r=document.namespaces;if(r&&r[n])return document.getElementsByTagName(0==document.getElementsByTagName(e).length?o:e)}catch(s){}return document.getElementsByTagName(o)}return t.MOZ?document.getElementsByTagNameNS(document.body.namespaceURI,o):document.getElementsByTagName(o)},s=function(e,t){for(var n=e.attributes,o={},r=n.length-1;r>=0;r--){var s=n[r];s.specified&&(o[n[r].name]=n[r].value)}return o.dom=e,o.tagName=t,o},i=function(){for(var e=[],t=0,i=n.length;i>t;t++)for(var a=n[t],c=a.tagName,u=a.widgetName,l=r(c),d=0,p=l.length;p>d;d++)l[d].innerHTML='<span style="background:url(http://timg.sjs.sinajs.cn/t4/appstyle/widget/images/library/base/loading1.gif) no-repeat;height:18px;padding:0 0 2px 20px;">Loading...</span>',e.push({tag:c,widget:u,params:s(l[d],c)});var i=e.length;if(i>0)if(/weibo|ucbrowser/i.test(navigator.userAgent))for(var t=0,i=e.length;i>t;t++){var g=e[t];!function(e){setTimeout(function(){o[e.widget](e.params)},50*t)}(g)}else WB2.anyWhere(function(t){for(var n=0,o=e.length;o>n;n++){var r=e[n];!function(e){setTimeout(function(){t.widget[e.widget](e.params)},50*n)}(r)}})};!function(){try{document.namespaces&&!document.namespaces.item.wb&&document.namespaces.add("wb")}catch(e){}}(),WB2.initCustomTag=i,e.core.dom.ready(function(){i()})}}),STK.register("core.json.jsonToStr",function(){function e(e){return 10>e?"0"+e:e}function t(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,i){var a,c,u,l,d,p=o,g=i[e];switch(g&&"object"==typeof g&&"function"==typeof g.toJSON&&(g=g.toJSON(e)),"function"==typeof s&&(g=s.call(i,e,g)),typeof g){case"string":return t(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(o+=r,d=[],"[object Array]"===Object.prototype.toString.apply(g)){for(l=g.length,a=0;l>a;a+=1)d[a]=n(a,g)||"null";return u=0===d.length?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+p+"]":"["+d.join(",")+"]",o=p,u}if(s&&"object"==typeof s)for(l=s.length,a=0;l>a;a+=1)c=s[a],"string"==typeof c&&(u=n(c,g),u&&d.push(t(c)+(o?": ":":")+u));else for(c in g)Object.hasOwnProperty.call(g,c)&&(u=n(c,g),u&&d.push(t(c)+(o?": ":":")+u));return u=0===d.length?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+p+"}":"{"+d.join(",")+"}",o=p,u}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var o,r,s,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(e,t,i){var a;if(o="",r="","number"==typeof i)for(a=0;i>a;a+=1)r+=" ";else"string"==typeof i&&(r=i);if(s=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return n("",{"":e})}}),STK.register("common.util.date",function(){var e=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},o={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+o[e.getDay()+""]));for(var r in n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t};return function(t,n){return t=t||new Date,n=n||"yyyy-MM-dd hh:mm:ss",e(t,n)}}),STK.register("conf.api.log",function($){var isConsoleEnable="object"==typeof window.console&&("function"==typeof window.console.log||"object"==typeof window.console.log),panelId="weibo_jssdk_console_panel",minHeight=30,maxHeight=90,Icon={info:"#0088CC",warn:"#D2D128",error:"#F50A0A"},cPanel={init:function(){var pos="position:fixed;";$.core.util.browser.IE6&&(pos="position:absolute;");var title=$.C("h5");title.innerHTML='Sina Weibo JSSDK Console Panel<a href="http://jssdk.sinaapp.com/help.php" target="_blank" style="position:absolute;right:0;margin-right:5px;color:#0088CC;font-size:12px;font-weight:normal;">Help?</a>',title.style.cssText="margin: 8px;font-size:13px;border-bottom:1px solid #ccc;";var logDiv=$.C("div");logDiv.id=panelId+"_logdiv",logDiv.style.cssText="background:#000; color:#FFF; margin:5px; border:1px solid #ccc; height:150px; max-height:150px; overflow-x:hidden; overflow-y: auto; word-break:nowrap; padding:5px 5px;border-radius:5px;";var textArea=$.C("textarea");textArea.value='WB2.console.log("test");',textArea.style.cssText="line-height:20px;font-size:12px;width:380px;height:30px;overflow-y:auto;margin:3px;padding:5px; border-radius:5px;border:1px solid #ccc;",textArea.onfocus=function(){textArea.select()},textArea.ondblclick=function(){textArea.style.height=parseInt(textArea.style.height)<maxHeight?maxHeight+"px":minHeight+"px"};var clear=$.C("input");clear.type="button",clear.value="Clear",clear.style.cssText="width:60px;height: 30px;border:1px solid #ccc; padding:2px 15px;border-radius:5px 0 0 5px;",clear.onclick=function(){logDiv.innerHTML=""};var run=$.C("input");run.type="button",run.value="Run",run.style.cssText="width:60px;height: 30px;border:1px solid #ccc; border-right:0;border-left:0; padding:2px 15px;",run.onclick=function(){var val=textArea.value;val&&eval(val)};var close=$.C("input");close.type="button",close.value="Close",close.style.cssText="width:60px;height: 30px;border:1px solid #ccc; padding:2px 15px;border-radius:0 5px 5px 0;",close.onclick=function(){cPanel.hide()};var bar=$.C("p");bar.appendChild(clear),bar.appendChild(run),bar.appendChild(close),bar.style.cssText="margin:5px 3px;";var panel=document.createElement("div");panel.id=panelId,panel.style.cssText=pos+"z-index:9999;left:0;top:0;width:400px;background:#eee;padding:5px;border-radius:5px;border:1px solid #bbb;",panel.appendChild(title),panel.appendChild(logDiv),panel.appendChild(textArea),panel.appendChild(bar),cPanel.output=logDiv,cPanel.close=close,cPanel.panel=panel,document.body.appendChild(panel)},show:function(){$.E(panelId)||cPanel.init(),cPanel.output=cPanel.output||$.E(panelId+"_logdiv"),cPanel.panel&&(cPanel.panel.style.display="block")},hide:function(){cPanel.panel&&(cPanel.panel.style.display="none")},setLog:function(e,t){if("string"==typeof e){var n=(new Date,$.common.util.date(new Date)),o="";switch(t){case"info":o=Icon.info;break;case"warn":o=Icon.warn;break;case"error":o=Icon.error}o="color:"+o;var r='<p style="line-height:18px;margin:0;padding:0;"><span style="font-size:12px;color:#2EBC2C;">'+n+'</span><span style="font-size:12px;font-family: Verdana;padding-left:5px;'+o+'">'+e;""!=cPanel.output.innerHTML&&(r=r+"\r\n"+cPanel.output.innerHTML),cPanel.output.innerHTML=r+"</span></p>",cPanel.output.scrollTop=0}},log:function(e,t){cPanel.show();var n="";n="object"==typeof e||"[object Array]"===Object.prototype.toString.call(e)?"object"==typeof e.parent?e.toString():$.core.json.jsonToStr(e,null,"	"):"undefined"==typeof e?"undefined":e.toString(),cPanel.setLog(n,t)}},debugLevel=["log","info","warn","error","dir"];return function(){function e(){for(var e=0,t=debugLevel.length;t>e;e++){var n=debugLevel[e];WB2.console[n]=function(e){return function(t){if(WB2._config.debug)if(isConsoleEnable)window.console[e](t);else try{cPanel.log(t,e)}catch(n){cPanel.log(n.message,e)}}}(n)}}window.WB2=window.WB2||{},window.WB2.console=window.WB2.console||{},window.WB2.console.init=function(){WB2._config.debug=!0,isConsoleEnable=!1},e();var t={"USE_X-UA-Compatible":function(){if($.core.util.browser.IE11){var e,t=!1,n=document.getElementsByTagName("meta");if(n&&n.length>0)for(var o=0,r=n.length;r>o;o++)if("X-UA-Compatible"==n[o].getAttribute("http-equiv")){e=n[o],-1!=n[o].getAttribute("content").indexOf("IE7")&&(t=!0);break}var s={output:!0,reason:"Use X-UA-Compatible Model In Current Page. "};return s}}};$.core.dom.ready(function(){for(var e in t){var n=t[e]();n&&n.output&&WB2.console.warn(n.reason)}})}});var USER_STATUS,APPKEY_AVAILABLE=!0,LOGIN_FUNC_LIST=[],API_VERSION=2,OAUTH_QUERY_URL="https://api.weibo.com/"+API_VERSION+"/oauth2/query",OAUTH_LOGIN_WINDOW,OAUTH_LOGIN_URL="https://api.weibo.com/"+API_VERSION+"/oauth2/authorize",JS_CACHE={},$=STK,parseParam=$.core.obj.parseParam,addEvent=$.core.evt.addEvent,trim=$.core.str.trim,browser=$.core.util.browser,CookieUtil=$.core.util.cookie,queryToJson=$.core.json.queryToJson,jsonp=function(e){var t={url:"",charset:"UTF-8",timeout:3e4,args:{},onComplete:null,onTimeout:null,responseName:null,varkey:"callback"},n=-1;t=parseParam(t,e);var o=t.responseName||"STK_"+Math.floor(1e3*Math.random())+(new Date).getTime().toString();t.args[t.varkey]=o;var r=t.onComplete,s=t.onTimeout;return window[o]=function(e){2!=n&&null!=r&&(n=1,r(e))},t.onComplete=null,t.onTimeout=function(){1!=n&&null!=s&&(n=2,s())},loadJs(t)},loadJs=function(e){var t,n,o={url:"",charset:"UTF-8",timeout:3e4,args:{},onComplete:null,onTimeout:null,uniqueID:null};if(o=parseParam(o,e),""==o.url)throw"url is null";t=document.createElement("script"),t.charset="UTF-8";var r=/msie/i.test(navigator.userAgent);null!=o.onComplete&&(r?t.onreadystatechange=function(){("complete"==t.readyState.toLowerCase()||"loaded"==t.readyState.toLowerCase())&&(clearTimeout(n),o.onComplete(),t.onreadystatechange=null)}:t.onload=function(){clearTimeout(n),o.onComplete(),t.onload=null});var s=function(e){if(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(trim(e[n])));return t.length?t.join("&"):""}},i=s(o.args);return-1==o.url.indexOf("?")?""!=i&&(i="?"+i):""!=i&&(i="&"+i),t.src=o.url+i,document.getElementsByTagName("head")[0].appendChild(t),o.timeout>0&&null!=o.onTimeout&&(n=setTimeout(function(){o.onTimeout()},o.timeout)),t},Queue=function(){this.started=1,this.taskList=[],this.setStatue=function(e){this.started=e},this.start=function(){this.setStatue(0);var e,t,n,o=this.taskList.shift(),e=o[0],t=o[1],n=o[2];e.apply(n,t)},this.next=function(){this.setStatue(1),this.taskList.length>0&&this.start()},this.add=function(e,t){var n={args:[],pointer:window,top:!1};n=parseParam(n,t),n.top?this.taskList.unshift([e,n.args,n.pointer]):this.taskList.push([e,n.args,n.pointer]),this.started&&this.start()}},queue=new Queue,Cookie={load:function(){if($.core.obj.isEmpty(WB2.oauthData)){var e=CookieUtil.get("weibojs_"+WB2._config.appkey);e=unescape(e);var t=queryToJson(e);return t}return WB2.oauthData},save:function(e){WB2.oauthData=e;var t="access_token="+(e.access_token||"")+"&refresh_token="+(e.refresh_token||"")+"&expires_in="+(e.expires_in||0)+"&uid="+(e.uid||"")+"&status="+(e.status||USER_STATUS||-1);CookieUtil.set("weibojs_"+WB2._config.appkey,t,{path:"/",domain:document.domain})},del:function(){WB2.oauthData={},CookieUtil.remove("weibojs_"+WB2._config.appkey,{path:"/",domain:document.domain})}},init=function(e){if(e.access_token){USER_STATUS=1,APPKEY_AVAILABLE=!0;var t={status:USER_STATUS,access_token:e.access_token};e.uid&&(t.uid=e.uid),Cookie.save(t)}};window.WB2=window.WB2||{},WB2.widget={};var sdkClient=clientInfo();WB2._config=WB2._config||{},WB2._config.version=sdkClient.version,WB2._config.appkey=sdkClient.appkey,WB2._config.secret=sdkClient.secret,WB2._config.debug=sdkClient.debug,WB2.oauthData={},WB2.init=init,WB2.login=login,WB2.logout=logout,WB2.checkLogin=checkLogin,WB2.anyWhere=anyWhere,WB2.anyWhere._instances={},WB2.Cookie=Cookie,WB2.regIframeRequest=regIframeRequest,$.conf.api.log(),$.conf.api.wbml(),WB2._config.appkey&&getLoginStatus(),window.postMessage&&!browser.IE&&$.core.evt.addEvent(window,"message",messageHandler)}();