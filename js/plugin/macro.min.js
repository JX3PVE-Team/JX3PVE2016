function trim(s){return s.replace(/^\s+/,"").replace(/\s+$/,"")}[].indexOf||(Array.prototype.indexOf=function(s){for(var t=-1,a=0;a<this.length;a++)if(s===this[a]){t=a;break}return t},Array.prototype.lastIndexOf=function(s){for(var t=-1,a=this.length-1;a>-1;a--)if(s===this[a]){t=a;break}return t});var Sytax=function(s,t){this.target=jQuery(s),this.content=t,this.install()};Sytax.prototype.splits=function(){var s=this.content.split("\n");this.lines=[];for(var t=0;t<s.length;t++)this.lines.push(this.language(s[t]));this.target.html("<ol>"+this.lines.join("")+"</ol>")},Sytax.prototype.condition=function(s){for(var t="",a=["<",">","=","&",";","|","(",")","[","]",":","~",",","+","-","%","*","/","!"],n=0;n<s.length;n++){var e=s.charAt(n);t+=a.indexOf(e)>-1?'<span class="sytax-key">'+e+"</span>":e}return t=t.replace(/(v)\_([^\s\<\>\=\&\;\|\(\)\[\]\:\~\,\+\-\%\*\/\!]+)/gi,'<span class="sytax-condition">$1_$2</span>')},Sytax.prototype.params=function(s){return s.replace(/v\_([^\s\<\>\=\&\;\|\(\)\[\]\:\~\,\+\-\%\*\/\!]+)/,'<span class="sytax-param">v_$1</span>').replace(/\,/g,'<span class="sytax-key">,</span>').replace(/(tip)(\_\d)?\:/gi,'<span class="sytax-key">$1$2:</span>').replace(/(icon)(\_\d)?\:/gi,'<span class="sytax-key">$1$2:</span>')},Sytax.prototype.language=function(s){if(!/^\#/.test(trim(s))){var t=s.indexOf("--"),a="";t>-1&&(a=s.substring(t),s=s.substring(0,t),0===trim(s).length&&(s=a,a="",0===trim(s).length&&(s="")))}var n=trim(s),e="",r=this;if(/^\#/.test(n)){var i=/(\s+)?#([^\s]+)\s(.+)/.exec(s),p=i[1]?i[1]:"",l=i[2],o=i[3];e+="<li><pre>"+p+'<span class="sytax-system sytax-system-'+l.toLowerCase()+'">#'+l+'</span> <span class="sytax-system-string">'+r.params(o)+"</span></pre></li>"}else if(/^\-\-/.test(n))e+='<li><pre><span class="sytax-comment">'+s+"</span></pre></li>";else{var c=/(\s+)?\/([^\s\[]+)(\s?\[([^\]]+)\])?(\s?(.+))?/.exec(s);if(c){var y=c[1]?c[1]:"",x=c[2],h=c[4],f=c[6];e+="<li><pre>",e+=y,e+='<span class="sytax-keyword sytax-keyword-'+x.toLowerCase()+'">/'+x+"</span>",c[3]&&(e+=" ",e+='<span class="sytax-key">[</span>',e+='<span class="sytax-condition">'+r.condition(h)+"</span>",e+='<span class="sytax-key">]</span>'),c[5]&&(e+=" ",e+='<span class="sytax-skill-name">'+r.condition(f)+"</span>"),a&&a.length>0&&(e+=" ",e+='<span class="sytax-comment">'+a+"</span>"),e+="</pre></li>"}else e+="<li><pre>"+s+(a&&a.length>0?a:"")+"</pre></li>"}return e},Sytax.prototype.install=function(){this.splits()},window.Macro=macro=Sytax;